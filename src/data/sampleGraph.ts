import { KnowledgeGraph } from '@/types/graph';

export const sampleGraph: KnowledgeGraph = {
  globalNodes: [
    // Level 0 - Foundational (no prerequisites)
    {
      id: 'recognize-iteration-need',
      name: 'Recognizing when iteration is needed',
      level: 0,
      description: 'Identifying that a problem requires processing multiple elements sequentially.',
      knowledgePoint: {
        atomicityCheck: 'Tests exactly one thing: given a problem, determine if iteration is required',
        assessmentExample: 'Does this problem require iterating? "Find all even numbers in a list"',
        targetAssessmentLevel: 1,
        appearsInQuestions: ['Count word frequencies', 'Group students by grade', 'Find unique elements'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 10,
      },
    },
    {
      id: 'recognize-mapping-need',
      name: 'Recognizing when key-value mapping is needed',
      level: 0,
      description: 'Identifying that a problem requires associating keys with values.',
      knowledgePoint: {
        atomicityCheck: 'Tests exactly one thing: given a problem, determine if a mapping structure fits',
        assessmentExample: 'Would a dictionary be useful for: "Track how many times each word appears"?',
        targetAssessmentLevel: 1,
        appearsInQuestions: ['Count word frequencies', 'Group students by grade'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 10,
      },
    },
    {
      id: 'recognize-uniqueness-need',
      name: 'Recognizing when uniqueness tracking is needed',
      level: 0,
      description: 'Identifying that a problem requires tracking unique elements.',
      knowledgePoint: {
        atomicityCheck: 'Tests exactly one thing: given a problem, determine if uniqueness matters',
        assessmentExample: 'Does this require uniqueness? "Find elements that appear in both lists"',
        targetAssessmentLevel: 1,
        appearsInQuestions: ['Find unique elements', 'Remove duplicates'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 8,
      },
    },

    // Level 1 - Building Blocks
    {
      id: 'init-empty-dict',
      name: 'Initializing an empty dictionary',
      level: 1,
      description: 'Creating a new empty dictionary to store key-value pairs.',
      knowledgePoint: {
        atomicityCheck: 'Single operation: create empty dict. Cannot split further.',
        assessmentExample: 'Write code to create an empty dictionary called "counts"',
        targetAssessmentLevel: 2,
        appearsInQuestions: ['Count word frequencies', 'Group students by grade'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 5,
      },
    },
    {
      id: 'init-empty-set',
      name: 'Initializing an empty set',
      level: 1,
      description: 'Creating a new empty set to store unique elements.',
      knowledgePoint: {
        atomicityCheck: 'Single operation: create empty set. Cannot split further.',
        assessmentExample: 'Write code to create an empty set called "seen"',
        targetAssessmentLevel: 2,
        appearsInQuestions: ['Find unique elements', 'Remove duplicates'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 5,
      },
    },
    {
      id: 'iterate-list',
      name: 'Iterating through a list',
      level: 1,
      description: 'Using a for loop to process each element in a list.',
      knowledgePoint: {
        atomicityCheck: 'Single control structure: for loop over list. Cannot split.',
        assessmentExample: 'Write a for loop that prints each word in a list called "words"',
        targetAssessmentLevel: 3,
        appearsInQuestions: ['Count word frequencies', 'Group students by grade', 'Find unique elements'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)', 'Recall (complex)'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 12,
      },
    },
    {
      id: 'check-key-exists',
      name: 'Checking if a key exists in a dictionary',
      level: 1,
      description: 'Testing whether a specific key is present in a dictionary.',
      knowledgePoint: {
        atomicityCheck: 'Single boolean check: key in dict. Cannot split.',
        assessmentExample: 'Write code to check if "apple" exists as a key in dict "counts"',
        targetAssessmentLevel: 2,
        appearsInQuestions: ['Count word frequencies', 'Group students by grade'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 8,
      },
    },
    {
      id: 'check-element-in-set',
      name: 'Checking if an element is in a set',
      level: 1,
      description: 'Testing whether a specific element exists in a set.',
      knowledgePoint: {
        atomicityCheck: 'Single boolean check: element in set. Cannot split.',
        assessmentExample: 'Write code to check if 5 is in the set "seen_numbers"',
        targetAssessmentLevel: 2,
        appearsInQuestions: ['Find unique elements', 'Remove duplicates'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 6,
      },
    },

    // Level 2 - Core Skills
    {
      id: 'increment-dict-value',
      name: 'Incrementing a numeric value at a dictionary key',
      level: 2,
      description: 'Adding 1 to an existing numeric value stored at a dictionary key.',
      knowledgePoint: {
        atomicityCheck: 'Single operation: dict[key] += 1. Distinct from insertion.',
        assessmentExample: 'Given counts["apple"] = 3, write code to increment it by 1',
        targetAssessmentLevel: 3,
        appearsInQuestions: ['Count word frequencies'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)', 'Recall (complex)'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 10,
      },
    },
    {
      id: 'insert-new-key-value',
      name: 'Inserting a new key with initial value',
      level: 2,
      description: 'Adding a new key-value pair to a dictionary.',
      knowledgePoint: {
        atomicityCheck: 'Single operation: dict[key] = value. Distinct from update.',
        assessmentExample: 'Write code to add key "banana" with value 1 to dict "counts"',
        targetAssessmentLevel: 3,
        appearsInQuestions: ['Count word frequencies', 'Group students by grade'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)', 'Recall (complex)'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 8,
      },
    },
    {
      id: 'append-to-list-value',
      name: 'Appending an item to a list value in a dictionary',
      level: 2,
      description: 'Adding an element to a list that is stored as a dictionary value.',
      knowledgePoint: {
        atomicityCheck: 'Single operation: dict[key].append(item). Requires list exists.',
        assessmentExample: 'Given groups["A"] = ["Alice"], append "Bob" to this list',
        targetAssessmentLevel: 3,
        appearsInQuestions: ['Group students by grade'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)', 'Recall (complex)'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 12,
      },
    },
    {
      id: 'add-element-to-set',
      name: 'Adding an element to a set',
      level: 2,
      description: 'Inserting an element into a set (automatically handles uniqueness).',
      knowledgePoint: {
        atomicityCheck: 'Single operation: set.add(element). Cannot split.',
        assessmentExample: 'Write code to add the number 42 to the set "unique_nums"',
        targetAssessmentLevel: 2,
        appearsInQuestions: ['Find unique elements', 'Remove duplicates'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 6,
      },
    },
    {
      id: 'init-list-value-for-key',
      name: 'Creating a new key with an empty list value',
      level: 2,
      description: 'Adding a new dictionary key that maps to an empty list for accumulation.',
      knowledgePoint: {
        atomicityCheck: 'Single operation: dict[key] = []. Preparation for appending.',
        assessmentExample: 'Write code to create key "B" with an empty list in dict "groups"',
        targetAssessmentLevel: 3,
        appearsInQuestions: ['Group students by grade'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)', 'Recall (complex)'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 8,
      },
    },

    // Level 3 - Applied Skills
    {
      id: 'frequency-count-pattern',
      name: 'Applying the frequency counting pattern',
      level: 3,
      description: 'Combining iteration, key check, insert, and increment to count occurrences.',
      knowledgePoint: {
        atomicityCheck: 'Integration of 4 atomic skills into one pattern. This is the highest useful level.',
        assessmentExample: 'Write a function that counts how many times each letter appears in a string',
        targetAssessmentLevel: 4,
        appearsInQuestions: ['Count word frequencies'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)', 'Recall (complex)', 'Direct application'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 25,
      },
    },
    {
      id: 'grouping-pattern',
      name: 'Applying the grouping pattern',
      level: 3,
      description: 'Combining iteration, key check, list init, and append to group items.',
      knowledgePoint: {
        atomicityCheck: 'Integration of 4 atomic skills into grouping pattern. Highest useful level.',
        assessmentExample: 'Write a function that groups numbers by their last digit',
        targetAssessmentLevel: 4,
        appearsInQuestions: ['Group students by grade'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)', 'Recall (complex)', 'Direct application'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 30,
      },
    },
    {
      id: 'set-intersection-operation',
      name: 'Computing the intersection of two sets',
      level: 3,
      description: 'Finding elements that appear in both sets.',
      knowledgePoint: {
        atomicityCheck: 'Single set operation: set1 & set2 or set1.intersection(set2)',
        assessmentExample: 'Given sets a and b, write code to find elements in both',
        targetAssessmentLevel: 3,
        appearsInQuestions: ['Find unique elements'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)', 'Recall (complex)'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 15,
      },
    },
    {
      id: 'convert-list-to-set',
      name: 'Converting a list to a set',
      level: 2,
      description: 'Creating a set from a list to get unique elements.',
      knowledgePoint: {
        atomicityCheck: 'Single operation: set(list). Cannot split further.',
        assessmentExample: 'Convert the list [1, 2, 2, 3, 3, 3] to a set',
        targetAssessmentLevel: 2,
        appearsInQuestions: ['Find unique elements', 'Remove duplicates'],
      },
      cme: {
        measured: false,
        highestConceptLevel: 0,
        levelLabels: ['Recognition', 'Recall (simple)'],
        independence: 'Unknown',
        retention: 'Unknown',
        evidenceByLevel: {},
      },
      le: {
        estimated: true,
        estimatedMinutes: 8,
      },
    },
  ],
  edges: [
    // Level 0 -> Level 1
    { from: 'recognize-mapping-need', to: 'init-empty-dict', reason: 'Must recognize need for mapping before knowing to create one', relationshipType: 'requires' },
    { from: 'recognize-uniqueness-need', to: 'init-empty-set', reason: 'Must recognize uniqueness need before creating a set', relationshipType: 'requires' },
    { from: 'recognize-iteration-need', to: 'iterate-list', reason: 'Must recognize iteration need before learning loop syntax', relationshipType: 'requires' },
    { from: 'recognize-mapping-need', to: 'check-key-exists', reason: 'Must understand mappings to know key checking applies', relationshipType: 'requires' },
    { from: 'recognize-uniqueness-need', to: 'check-element-in-set', reason: 'Must understand sets to know membership checking', relationshipType: 'requires' },

    // Level 1 -> Level 2
    { from: 'check-key-exists', to: 'increment-dict-value', reason: 'Must check key exists before incrementing its value', relationshipType: 'requires' },
    { from: 'init-empty-dict', to: 'insert-new-key-value', reason: 'Must have a dict before inserting into it', relationshipType: 'requires' },
    { from: 'check-key-exists', to: 'insert-new-key-value', reason: 'Must check key absence before inserting new key', relationshipType: 'requires' },
    { from: 'init-empty-dict', to: 'init-list-value-for-key', reason: 'Must have a dict before creating list values', relationshipType: 'requires' },
    { from: 'init-list-value-for-key', to: 'append-to-list-value', reason: 'Must have list value before appending to it', relationshipType: 'requires' },
    { from: 'init-empty-set', to: 'add-element-to-set', reason: 'Must have a set before adding to it', relationshipType: 'requires' },
    { from: 'check-element-in-set', to: 'add-element-to-set', reason: 'Often check membership before deciding to add', relationshipType: 'builds_on' },
    { from: 'recognize-uniqueness-need', to: 'convert-list-to-set', reason: 'Must understand sets represent uniqueness', relationshipType: 'requires' },

    // Level 2 -> Level 3
    { from: 'iterate-list', to: 'frequency-count-pattern', reason: 'Counting requires iterating through elements', relationshipType: 'requires' },
    { from: 'check-key-exists', to: 'frequency-count-pattern', reason: 'Must check if key exists to decide increment vs insert', relationshipType: 'requires' },
    { from: 'increment-dict-value', to: 'frequency-count-pattern', reason: 'Counting uses increment operation', relationshipType: 'requires' },
    { from: 'insert-new-key-value', to: 'frequency-count-pattern', reason: 'First occurrence requires inserting new key', relationshipType: 'requires' },

    { from: 'iterate-list', to: 'grouping-pattern', reason: 'Grouping requires iterating through items', relationshipType: 'requires' },
    { from: 'check-key-exists', to: 'grouping-pattern', reason: 'Must check if group key exists', relationshipType: 'requires' },
    { from: 'init-list-value-for-key', to: 'grouping-pattern', reason: 'New groups start with empty lists', relationshipType: 'requires' },
    { from: 'append-to-list-value', to: 'grouping-pattern', reason: 'Items are appended to group lists', relationshipType: 'requires' },

    { from: 'convert-list-to-set', to: 'set-intersection-operation', reason: 'Often need to convert lists to sets before intersection', relationshipType: 'builds_on' },
    { from: 'init-empty-set', to: 'set-intersection-operation', reason: 'Must understand sets to perform set operations', relationshipType: 'requires' },
  ],
  courses: {
    'Python Data Structures': {
      nodes: [
        { id: 'recognize-iteration-need', inCourse: true },
        { id: 'recognize-mapping-need', inCourse: true },
        { id: 'recognize-uniqueness-need', inCourse: true },
        { id: 'init-empty-dict', inCourse: true },
        { id: 'init-empty-set', inCourse: true },
        { id: 'iterate-list', inCourse: true },
        { id: 'check-key-exists', inCourse: true },
        { id: 'check-element-in-set', inCourse: true },
        { id: 'increment-dict-value', inCourse: true },
        { id: 'insert-new-key-value', inCourse: true },
        { id: 'append-to-list-value', inCourse: true },
        { id: 'add-element-to-set', inCourse: true },
        { id: 'init-list-value-for-key', inCourse: true },
        { id: 'frequency-count-pattern', inCourse: true },
        { id: 'grouping-pattern', inCourse: true },
        { id: 'set-intersection-operation', inCourse: true },
        { id: 'convert-list-to-set', inCourse: true },
      ],
    },
  },
  questionPaths: {
    'Given a list of words, count the frequency of each word': {
      requiredNodes: [
        'recognize-iteration-need',
        'recognize-mapping-need',
        'init-empty-dict',
        'iterate-list',
        'check-key-exists',
        'insert-new-key-value',
        'increment-dict-value',
        'frequency-count-pattern',
      ],
      executionOrder: [
        'recognize-mapping-need',
        'init-empty-dict',
        'recognize-iteration-need',
        'iterate-list',
        'check-key-exists',
        'insert-new-key-value',
        'increment-dict-value',
        'frequency-count-pattern',
      ],
      validationStatus: 'valid',
    },
    'Group a list of students by their grade level': {
      requiredNodes: [
        'recognize-iteration-need',
        'recognize-mapping-need',
        'init-empty-dict',
        'iterate-list',
        'check-key-exists',
        'init-list-value-for-key',
        'append-to-list-value',
        'grouping-pattern',
      ],
      executionOrder: [
        'recognize-mapping-need',
        'init-empty-dict',
        'recognize-iteration-need',
        'iterate-list',
        'check-key-exists',
        'init-list-value-for-key',
        'append-to-list-value',
        'grouping-pattern',
      ],
      validationStatus: 'valid',
    },
    'Find all unique elements that appear in both lists': {
      requiredNodes: [
        'recognize-uniqueness-need',
        'convert-list-to-set',
        'set-intersection-operation',
      ],
      executionOrder: [
        'recognize-uniqueness-need',
        'convert-list-to-set',
        'set-intersection-operation',
      ],
      validationStatus: 'valid',
    },
  },
  ipaByQuestion: {
    'Given a list of words, count the frequency of each word': [
      { step: 1, type: 'PERCEIVE', operation: 'Problem requires tracking counts for each unique word' },
      { step: 2, type: 'ENCODE', operation: 'Input is a list of string words' },
      { step: 3, type: 'RETRIEVE', operation: 'Dictionary is appropriate for word->count mapping' },
      { step: 4, type: 'DECIDE', operation: 'Use accumulator pattern with dictionary' },
      { step: 5, type: 'EXECUTE', operation: 'Initialize empty dictionary, loop through words, update counts' },
      { step: 6, type: 'MONITOR', operation: 'Handle case where word does not exist as key' },
    ],
    'Group a list of students by their grade level': [
      { step: 1, type: 'PERCEIVE', operation: 'Problem requires grouping items by a key' },
      { step: 2, type: 'ENCODE', operation: 'Input is a list of student objects with grade property' },
      { step: 3, type: 'RETRIEVE', operation: 'Dictionary with list values for grouping' },
      { step: 4, type: 'DECIDE', operation: 'Use grouping pattern with dictionary of lists' },
      { step: 5, type: 'EXECUTE', operation: 'Initialize dict, loop students, append to grade list' },
      { step: 6, type: 'MONITOR', operation: 'Handle case where grade key does not exist yet' },
    ],
    'Find all unique elements that appear in both lists': [
      { step: 1, type: 'PERCEIVE', operation: 'Problem requires finding common unique elements' },
      { step: 2, type: 'ENCODE', operation: 'Input is two lists of elements' },
      { step: 3, type: 'RETRIEVE', operation: 'Sets provide uniqueness and intersection' },
      { step: 4, type: 'DECIDE', operation: 'Use set intersection approach' },
      { step: 5, type: 'EXECUTE', operation: 'Convert lists to sets, compute intersection' },
      { step: 6, type: 'MONITOR', operation: 'Handle empty lists edge case' },
    ],
  },
};
